<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<script type="text/javascript">
	var result = '';
/* 
Fetch API 이용하면 Request나 Response와 같은 HTTP의 파이프라인(통신)을 구성하는 요소를 조작하는 것이 가능하다.
비동기통신을 구현할 수 있다.
*/
	fetch('http://localhost:8000/jEasyUI/datagrid/jsonDeptList.jsp')
	.then(function(response) {
		return response.json();
	})
	.then(function(myJson) {
		//console.log(JSON.stringify(myJson));
		result = JSON.stringify(myJson);
		//alert("result :"+result);
		jsonDoc = JSON.parse(result);
		//document.getElementById("d_here").innerText = jsonDoc;
		var temp ='';
		temp += "<P>";
		for (var i = 0; i < jsonDoc.length; i++) {
			//alert(jsonDoc[i].dname+", "+jsonDoc[i].loc) //확인용
			temp +="<h1>"+jsonDoc[i].loc+"</h1>";
		}
		temp += "<p>";
		//document.getElementById("d_here").innerText = temp; //TEXT 형식으로 보여줌-><P><h1>NEW YORK</h1><h1>DALLAS</h1><h1>CHICAGO</h1><h1>BOSTON</h1><h1>부산</h1><p>
		document.getElementById("d_here").innerHTML = temp; //HTML형식으로 보여줌
	});
</script>
<div id="d_here"></div>
</body>
</html>