<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>JS만으로 처리</title>
    <link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/themes/icon.css"> <!-- 아이콘 위치 -->
    <link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/themes/color.css">
    <link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/demo/demo.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="https://www.jeasyui.com/easyui/jquery.easyui.min.js"></script>
	<script type="text/javascript">
		function empList(){//아래 html 태그코드를 이렇게 JS코드로 바꿀 수 있다.
			$("#dg_emp").datagrid({
				url:"http://localhost:8000/jEasyUI/day5/jsonEmpList.jsp"
			   ,onLoadSuccess: function(data){
				   var result = JSON.stringify(data);
					alert("새로고침 처리 성공: "+data+", "+result);
				}
			});
		}
	</script>
</head>
<body>
	<table id="dg_emp"></table>
	<script type="text/javascript">
		$(document).ready(function(){
			$('#dg_emp').datagrid({
				title: '사원관리 - 자바스크립트만으로 구성하기'
			   ,url:'jsonEmpList.jsp'
			   ,columns:[[
			        {field:'EMPNO',title:'사원번호',width:100,align:'center'}
			       ,{field:'HIREDATE',title:'입사일자',width:200,align:'center'}
			       ,{field:'EMPNO',title:'사원번호',width:100,align:'center'}
			       ,{field:'MGR',title:'부서코드',width:100,align:'center'}
			       ,{field:'JOB',title:'부서이름',width:100,align:'center'}
			       ,{field:'DEPTNO',title:'부서번호',width:100,align:'center'}
			       ,{field:'SAL',title:'급여',width:100,align:'center'}
			    ]]
/*			
	        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-search" plain="true" onclick="empList()">조회</a>
	        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-add" plain="true" onclick="newUser()">New User</a>
	        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-edit" plain="true" onclick="editUser()">Edit User</a>
	        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-remove" plain="true" onclick="destroyUser()">Remove User</a>
*/		   	   
	        	,toolbar: [{
							iconCls: 'icon-search',
							text: '조회',
							handler: function(){
								alert('edit')
								empList();//선뜻 손이 안감.
								}
							}
        			,'-',{
							iconCls: 'icon-add',
							text: 'New User',
							handler: function(){
								alert('add')
								}
							}
        			,'-',{
							iconCls: 'icon-edit',
							text: 'Edit User',
							handler: function(){
								alert('edit')
								}
							}
        			,'-',{
							iconCls: 'icon-remove',
							text: 'Remove User',
							handler: function(){
								alert('remove')
								}
						}]
			});//////////////////end of datagrid
		});//////////////////////end of ready
	</script>
</body>
</html>